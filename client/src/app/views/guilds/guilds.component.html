<div class="row">
    <div class="col-lg-3">
        <div class="input-group">
            <input class="form-control" placeholder="Search for a guild" ngModel="" (ngModelChange)="onGuildSearch($event)" />
            <div class="input-group-append">
                <button class="btn btn-default" style="cursor: default;"><i class="fas fa-search"></i></button>
            </div>
        </div>
    </div>
</div>
<div class="row mt-3">
    <div class="col-12">
        <div class="table-responsive bg-gray-dark" style="max-height: 75vh;">
            <table class="table table-head-fixed table-bordered text-nowrap table-sm table-striped table-hover mb-0">
                <thead>
                    <tr>
                        <th>Guild</th>
                        <th style="width: 90px;" title="Rating is calculated based on rank each seasons with diminishing return the older the season is">
                            <div class="d-flex align-items-center">Rating <i class="pl-2 ml-auto fa-solid {{getArrowIcon('rating')}}" role="button" (click)="changeFilter('rating')"></i></div>
                        </th>
                        <th style="width: 90px;">
                            <div class="d-flex align-items-center">Top 1s <i class="pl-2 ml-auto fa-solid {{getArrowIcon('nbrOfTop1')}}" role="button" (click)="changeFilter('nbrOfTop1')"></i></div>
                        </th>
                        <th style="width: 90px;">
                            <div class="d-flex align-items-center">Top 5s <i class="pl-2 ml-auto fa-solid {{getArrowIcon('nbrOfTop5')}}" role="button" (click)="changeFilter('nbrOfTop5')"></i></div>
                        </th>
                        <th style="width: 90px;">
                            <div class="d-flex align-items-center">Top 100s <i class="pl-2 ml-auto fa-solid {{getArrowIcon('nbrOfTop100')}}" role="button" (click)="changeFilter('nbrOfTop100')"></i></div>
                        </th>
                        <th style="width: 120px;">
                            <div class="d-flex align-items-center">Total levels <i class="pl-2 ml-auto fa-solid {{getArrowIcon('totalLevelCompleted')}}" role="button" (click)="changeFilter('totalLevelCompleted')"></i></div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let guild of allGuildsFiltered" [routerLink]="guild.guildNameplate" role="button" [class.text-info]="guild.guildNameplate === userGuildTag">
                        <td>
                            {{guild.guildName}} <span class="font-weight-light h6" style="font-size: 75%;">[{{guild.guildNameplate}}]</span>
                        </td>
                        <td style="width: 90px;">{{guild.rating.toFixed(2)}}</td>
                        <td style="width: 90px;">{{guild.nbrOfTop1 ? guild.nbrOfTop1 : ''}}</td>
                        <td style="width: 90px;">{{guild.nbrOfTop5 ? guild.nbrOfTop5 : ''}}</td>
                        <td style="width: 90px;">{{guild.nbrOfTop100 ? guild.nbrOfTop100 : ''}}</td>
                        <td style="width: 120px;">{{guild.totalLevelCompleted}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- Test purpose when will work on pagination -->
        <!-- <nav class="mt-2">
            <ul class="pagination justify-content-end">
                <li class="page-item" [class.disabled]="filters.page === 1" [style.cursor]="filters.page === 1 ? 'not-allowed' : 'pointer'" (click)="filters.page = filters.page - 1; applyFilter();">
                    <a class="page-link link-color">&laquo;</a>
                </li>
                <li *ngFor="let iterator of [].constructor(getNumberOfPages()); let i = index; let last = last; let first = first" class="page-item" [class.disabled]="i + 1 === filters.page" [style.cursor]="i + 1 === filters.page ? 'not-allowed' : 'pointer'" (click)="filters.page = i + 1; applyFilter();">
                    <ng-container *ngIf="first || last || ((i + 1) < (filters.page + 3) && (i + 1) > (filters.page - 3))">
                        <a class="page-link link-color">{{i + 1}}</a>
                    </ng-container>
                    <ng-container *ngIf="!first && !last && !((i + 1) < (filters.page + 3) && (i + 1) > (filters.page - 3)) && (i + 1 === filters.page + 3 || i + 1 === filters.page - 3)">
                        <a class="page-link link-color">...</a>
                    </ng-container>
                </li>
                <li class="page-item" [class.disabled]="filters.page === getNumberOfPages()" [style.cursor]="filters.page === getNumberOfPages() ? 'not-allowed' : 'pointer'" (click)="filters.page = filters.page + 1; applyFilter();">
                    <a class="page-link link-color">&raquo;</a>
                </li>
            </ul>
        </nav> -->
    </div>
</div>